# Запуск визуализатора потоков данных на Flask-сервере

## Быстрое начало

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Запустите сервер:
```bash
python app.py
```

3. Откройте браузер по адресу: [http://127.0.0.1:5000/](http://127.0.0.1:5000/)

## Проверка функциональности

После запуска сервера вы можете проверить, что все работает правильно:

1. **Загрузка примеров:**
   - В выпадающем списке выберите "Простой пример" или "Сложный пример"
   - Проверьте, что визуализация корректно отображается
   - Кликните на блоки для просмотра деталей

2. **Создание нового блока:**
   - Заполните форму "Создание нового блока"
   - Нажмите "Добавить блок"
   - Убедитесь, что блок добавлен в диаграмму

3. **Сохранение на сервере:**
   - После создания потока данных нажмите кнопку "Сохранить на сервере"
   - Введите название и описание
   - После сохранения проверьте, что поток появился в выпадающем списке

4. **Загрузка с сервера:**
   - Выберите сохраненный поток из выпадающего списка
   - Убедитесь, что он корректно загружается

## Решение проблем

Если у вас возникли проблемы:

- **Ошибка "Port already in use"**: другое приложение использует порт 5000. 
  Измените порт в app.py на другой (например, `app.run(debug=True, port=5001)`)

- **Ошибка загрузки файлов**: убедитесь, что в проекте существуют все необходимые директории:
  css/, js/, examples/

- **CORS ошибки**: если вы запускаете фронтенд отдельно от сервера, 
  установите Flask-CORS: `pip install flask-cors` и добавьте в app.py строки:
  ```python
  from flask_cors import CORS
  CORS(app)
  ```

## Структура данных

Поток данных сохраняется в формате JSON. Пример структуры:
```json
{
  "title": "Название потока",
  "description": "Описание потока",
  "blocks": [
    {
      "id": "block-1",
      "title": "Название блока",
      "icon": "fa-icon-name",
      "description": "Описание блока",
      "details": { ... },
      "inputData": { ... },
      "outputData": { ... }
    }
  ],
  "connections": [
    {
      "from": "block-1",
      "to": "block-2",
      "label": "Соединение"
    }
  ]
}
```

## Полезные команды

- Запуск на другом порту: `python app.py --port=8080`
- Запуск в режиме production: `python app.py --debug=false`
- Запуск на всех интерфейсах (доступ по сети): `python app.py --host=0.0.0.0` 